{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { useState, useEffect } from \"react\";\nimport { base } from \"../utils/airtableUtils\";\nexport default function usePlayerGroups() {\n  _s();\n\n  var _useState = useState([]),\n      playerGroups = _useState[0],\n      setPlayerGroups = _useState[1];\n\n  useEffect(function () {\n    if (playerGroups.length === 0) {\n      base(\"Players\").select({\n        view: \"Grid view\"\n      }).eachPage(function page(records) {\n        var players = [];\n        records.forEach(function (record) {\n          var player = _objectSpread({\n            id: record.id\n          }, record.fields);\n\n          players.push(player);\n        });\n        setPlayerGroups(divideGroups(players));\n      }, function done(err) {\n        if (err) {\n          console.error(err);\n          return;\n        }\n      });\n    }\n  }, [playerGroups]);\n\n  function divideGroups(players) {\n    var splits = [0, 5, 15, 25, 35, 45, 55, 65, 150];\n    var newArray = []; // Split playerGroups into groups\n\n    var _loop = function _loop(i) {\n      if (splits[i + 1]) {\n        var group = players.slice(splits[i], splits[i + 1]); // Insert group to each player object\n\n        var updatedGroup = group.map(function (curr) {\n          curr.group = \"group-\".concat(i + 1);\n          return curr;\n        });\n        newArray.push(updatedGroup);\n      }\n    };\n\n    for (var i = 0; i < splits.length; i++) {\n      _loop(i);\n    }\n\n    return newArray;\n  }\n\n  return {\n    playerGroups: playerGroups\n  };\n}\n\n_s(usePlayerGroups, \"mTWw+G3FaEB0tKuHpfQgSWFeMSk=\");","map":{"version":3,"sources":["/Users/orrymevorach/Desktop/pga-next/hooks/usePlayerGroups.js"],"names":["useState","useEffect","base","usePlayerGroups","playerGroups","setPlayerGroups","length","select","view","eachPage","page","records","players","forEach","record","player","id","fields","push","divideGroups","done","err","console","error","splits","newArray","i","group","slice","updatedGroup","map","curr"],"mappings":";;;;;;;;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,SAASC,IAAT,QAAqB,wBAArB;AAEA,eAAe,SAASC,eAAT,GAA2B;AAAA;;AAAA,kBACAH,QAAQ,CAAC,EAAD,CADR;AAAA,MACjCI,YADiC;AAAA,MACnBC,eADmB;;AAGxCJ,EAAAA,SAAS,CAAC,YAAM;AACd,QAAIG,YAAY,CAACE,MAAb,KAAwB,CAA5B,EAA+B;AAC7BJ,MAAAA,IAAI,CAAC,SAAD,CAAJ,CACGK,MADH,CACU;AACNC,QAAAA,IAAI,EAAE;AADA,OADV,EAIGC,QAJH,CAKI,SAASC,IAAT,CAAcC,OAAd,EAAuB;AACrB,YAAMC,OAAO,GAAG,EAAhB;AACAD,QAAAA,OAAO,CAACE,OAAR,CAAgB,UAAUC,MAAV,EAAkB;AAChC,cAAMC,MAAM;AACVC,YAAAA,EAAE,EAAEF,MAAM,CAACE;AADD,aAEPF,MAAM,CAACG,MAFA,CAAZ;;AAIAL,UAAAA,OAAO,CAACM,IAAR,CAAaH,MAAb;AACD,SAND;AAOAV,QAAAA,eAAe,CAACc,YAAY,CAACP,OAAD,CAAb,CAAf;AACD,OAfL,EAgBI,SAASQ,IAAT,CAAcC,GAAd,EAAmB;AACjB,YAAIA,GAAJ,EAAS;AACPC,UAAAA,OAAO,CAACC,KAAR,CAAcF,GAAd;AACA;AACD;AACF,OArBL;AAuBD;AACF,GA1BQ,EA0BN,CAACjB,YAAD,CA1BM,CAAT;;AA4BA,WAASe,YAAT,CAAsBP,OAAtB,EAA+B;AAC7B,QAAMY,MAAM,GAAG,CAAC,CAAD,EAAI,CAAJ,EAAO,EAAP,EAAW,EAAX,EAAe,EAAf,EAAmB,EAAnB,EAAuB,EAAvB,EAA2B,EAA3B,EAA+B,GAA/B,CAAf;AACA,QAAIC,QAAQ,GAAG,EAAf,CAF6B,CAG7B;;AAH6B,+BAIpBC,CAJoB;AAK3B,UAAIF,MAAM,CAACE,CAAC,GAAG,CAAL,CAAV,EAAmB;AACjB,YAAIC,KAAK,GAAGf,OAAO,CAACgB,KAAR,CAAcJ,MAAM,CAACE,CAAD,CAApB,EAAyBF,MAAM,CAACE,CAAC,GAAG,CAAL,CAA/B,CAAZ,CADiB,CAEjB;;AACA,YAAMG,YAAY,GAAGF,KAAK,CAACG,GAAN,CAAU,UAAAC,IAAI,EAAI;AACrCA,UAAAA,IAAI,CAACJ,KAAL,mBAAsBD,CAAC,GAAG,CAA1B;AACA,iBAAOK,IAAP;AACD,SAHoB,CAArB;AAIAN,QAAAA,QAAQ,CAACP,IAAT,CAAcW,YAAd;AACD;AAb0B;;AAI7B,SAAK,IAAIH,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,MAAM,CAAClB,MAA3B,EAAmCoB,CAAC,EAApC,EAAwC;AAAA,YAA/BA,CAA+B;AAUvC;;AAED,WAAOD,QAAP;AACD;;AAED,SAAO;AACLrB,IAAAA,YAAY,EAAZA;AADK,GAAP;AAGD;;GArDuBD,e","sourcesContent":["import { useState, useEffect } from \"react\";\nimport { base } from \"../utils/airtableUtils\";\n\nexport default function usePlayerGroups() {\n  const [playerGroups, setPlayerGroups] = useState([]);\n\n  useEffect(() => {\n    if (playerGroups.length === 0) {\n      base(\"Players\")\n        .select({\n          view: \"Grid view\",\n        })\n        .eachPage(\n          function page(records) {\n            const players = [];\n            records.forEach(function (record) {\n              const player = {\n                id: record.id,\n                ...record.fields,\n              };\n              players.push(player);\n            });\n            setPlayerGroups(divideGroups(players));\n          },\n          function done(err) {\n            if (err) {\n              console.error(err);\n              return;\n            }\n          }\n        );\n    }\n  }, [playerGroups]);\n\n  function divideGroups(players) {\n    const splits = [0, 5, 15, 25, 35, 45, 55, 65, 150];\n    let newArray = [];\n    // Split playerGroups into groups\n    for (let i = 0; i < splits.length; i++) {\n      if (splits[i + 1]) {\n        let group = players.slice(splits[i], splits[i + 1]);\n        // Insert group to each player object\n        const updatedGroup = group.map(curr => {\n          curr.group = `group-${i + 1}`;\n          return curr;\n        });\n        newArray.push(updatedGroup);\n      }\n    }\n\n    return newArray;\n  }\n\n  return {\n    playerGroups,\n  };\n}\n"]},"metadata":{},"sourceType":"module"}