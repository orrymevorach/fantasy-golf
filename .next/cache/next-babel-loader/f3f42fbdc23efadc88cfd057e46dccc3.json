{"ast":null,"code":"var _jsxFileName = \"/Users/orrymevorach/Desktop/pga-next/components/draftBoard/draftSelections/draftSelections.jsx\";\nvar __jsx = React.createElement;\nimport React, { useContext, useState, useEffect } from \"react\";\nimport { DraftboardContext } from \"../../../context/draftboardContext\";\nimport Player from \"../../player/player\";\nimport styles from \"./draftSelection.module.scss\";\nimport { base } from \"../../../utils/airtableUtils\";\nimport { isEmpty } from \"../../../utils/general\";\nimport { AuthContext } from \"../../../context/authContext\";\nimport { useRouter } from \"next/router\";\nexport default function DraftSelection() {\n  const Router = useRouter();\n  const {\n    selectedPlayers\n  } = useContext(DraftboardContext);\n  const {\n    user: {\n      oAuthId\n    }\n  } = useContext(AuthContext);\n  const {\n    0: numberOfSelectedPlayers,\n    1: setNumberOfSelectedPlayers\n  } = useState(0);\n  useEffect(() => {\n    setNumberOfSelectedPlayers(selectedPlayers.reduce((acc, curr) => {\n      if (!isEmpty(curr.selectedPlayer)) {\n        return acc + 1;\n      }\n\n      return acc;\n    }, 0));\n  }, [selectedPlayers]);\n\n  function formatGroupName(group) {\n    const groupNumber = group.split(\"-\")[1];\n    return `Group ${groupNumber}`;\n  }\n\n  function submitPicks() {\n    base(\"Draft Selections\").create([{\n      fields: {\n        userId: oAuthId,\n        players: [selectedPlayers[0].selectedPlayer.id, selectedPlayers[1].selectedPlayer.id, selectedPlayers[2].selectedPlayer.id, selectedPlayers[3].selectedPlayer.id, selectedPlayers[4].selectedPlayer.id, selectedPlayers[5].selectedPlayer.id]\n      }\n    }], function (err) {\n      if (err) {\n        console.error(err);\n        return;\n      }\n\n      Router.push(\"/team\");\n    });\n  }\n\n  return __jsx(\"div\", {\n    className: styles.draftSelections,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 5\n    }\n  }, __jsx(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }\n  }, \"Selections: \", __jsx(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 21\n    }\n  }, numberOfSelectedPlayers, \"/6\")), __jsx(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  }, selectedPlayers.map(({\n    group,\n    selectedPlayer\n  }) => {\n    return __jsx(\"li\", {\n      className: styles.selectedPlayer,\n      key: group,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 13\n      }\n    }, __jsx(\"p\", {\n      className: styles.group,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 15\n      }\n    }, formatGroupName(group), \":\"), __jsx(\"div\", {\n      className: styles.player,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 15\n      }\n    }, !isEmpty(selectedPlayer) && __jsx(Player, {\n      player: selectedPlayer,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 46\n      }\n    })));\n  })), numberOfSelectedPlayers === 6 && __jsx(\"button\", {\n    onClick: submitPicks,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }\n  }, \"Submit\"));\n}","map":{"version":3,"sources":["/Users/orrymevorach/Desktop/pga-next/components/draftBoard/draftSelections/draftSelections.jsx"],"names":["React","useContext","useState","useEffect","DraftboardContext","Player","styles","base","isEmpty","AuthContext","useRouter","DraftSelection","Router","selectedPlayers","user","oAuthId","numberOfSelectedPlayers","setNumberOfSelectedPlayers","reduce","acc","curr","selectedPlayer","formatGroupName","group","groupNumber","split","submitPicks","create","fields","userId","players","id","err","console","error","push","draftSelections","map","player"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,QAA5B,EAAsCC,SAAtC,QAAuD,OAAvD;AACA,SAASC,iBAAT,QAAkC,oCAAlC;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AACA,OAAOC,MAAP,MAAmB,8BAAnB;AACA,SAASC,IAAT,QAAqB,8BAArB;AACA,SAASC,OAAT,QAAwB,wBAAxB;AACA,SAASC,WAAT,QAA4B,8BAA5B;AACA,SAASC,SAAT,QAA0B,aAA1B;AAEA,eAAe,SAASC,cAAT,GAA0B;AACvC,QAAMC,MAAM,GAAGF,SAAS,EAAxB;AACA,QAAM;AAAEG,IAAAA;AAAF,MAAsBZ,UAAU,CAACG,iBAAD,CAAtC;AACA,QAAM;AACJU,IAAAA,IAAI,EAAE;AAAEC,MAAAA;AAAF;AADF,MAEFd,UAAU,CAACQ,WAAD,CAFd;AAGA,QAAM;AAAA,OAACO,uBAAD;AAAA,OAA0BC;AAA1B,MAAwDf,QAAQ,CAAC,CAAD,CAAtE;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACdc,IAAAA,0BAA0B,CACxBJ,eAAe,CAACK,MAAhB,CAAuB,CAACC,GAAD,EAAMC,IAAN,KAAe;AACpC,UAAI,CAACZ,OAAO,CAACY,IAAI,CAACC,cAAN,CAAZ,EAAmC;AACjC,eAAOF,GAAG,GAAG,CAAb;AACD;;AACD,aAAOA,GAAP;AACD,KALD,EAKG,CALH,CADwB,CAA1B;AAQD,GATQ,EASN,CAACN,eAAD,CATM,CAAT;;AAWA,WAASS,eAAT,CAAyBC,KAAzB,EAAgC;AAC9B,UAAMC,WAAW,GAAGD,KAAK,CAACE,KAAN,CAAY,GAAZ,EAAiB,CAAjB,CAApB;AACA,WAAQ,SAAQD,WAAY,EAA5B;AACD;;AAED,WAASE,WAAT,GAAuB;AACrBnB,IAAAA,IAAI,CAAC,kBAAD,CAAJ,CAAyBoB,MAAzB,CACE,CACE;AACEC,MAAAA,MAAM,EAAE;AACNC,QAAAA,MAAM,EAAEd,OADF;AAENe,QAAAA,OAAO,EAAE,CACPjB,eAAe,CAAC,CAAD,CAAf,CAAmBQ,cAAnB,CAAkCU,EAD3B,EAEPlB,eAAe,CAAC,CAAD,CAAf,CAAmBQ,cAAnB,CAAkCU,EAF3B,EAGPlB,eAAe,CAAC,CAAD,CAAf,CAAmBQ,cAAnB,CAAkCU,EAH3B,EAIPlB,eAAe,CAAC,CAAD,CAAf,CAAmBQ,cAAnB,CAAkCU,EAJ3B,EAKPlB,eAAe,CAAC,CAAD,CAAf,CAAmBQ,cAAnB,CAAkCU,EAL3B,EAMPlB,eAAe,CAAC,CAAD,CAAf,CAAmBQ,cAAnB,CAAkCU,EAN3B;AAFH;AADV,KADF,CADF,EAgBE,UAAUC,GAAV,EAAe;AACb,UAAIA,GAAJ,EAAS;AACPC,QAAAA,OAAO,CAACC,KAAR,CAAcF,GAAd;AACA;AACD;;AACDpB,MAAAA,MAAM,CAACuB,IAAP,CAAY,OAAZ;AACD,KAtBH;AAwBD;;AACD,SACE;AAAK,IAAA,SAAS,EAAE7B,MAAM,CAAC8B,eAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAOpB,uBAAP,OADd,CADF,EAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGH,eAAe,CAACwB,GAAhB,CAAoB,CAAC;AAAEd,IAAAA,KAAF;AAASF,IAAAA;AAAT,GAAD,KAA+B;AAClD,WACE;AAAI,MAAA,SAAS,EAAEf,MAAM,CAACe,cAAtB;AAAsC,MAAA,GAAG,EAAEE,KAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAG,MAAA,SAAS,EAAEjB,MAAM,CAACiB,KAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA6BD,eAAe,CAACC,KAAD,CAA5C,MADF,EAEE;AAAK,MAAA,SAAS,EAAEjB,MAAM,CAACgC,MAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,CAAC9B,OAAO,CAACa,cAAD,CAAR,IAA4B,MAAC,MAAD;AAAQ,MAAA,MAAM,EAAEA,cAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAD/B,CAFF,CADF;AAQD,GATA,CADH,CALF,EAiBGL,uBAAuB,KAAK,CAA5B,IACC;AAAQ,IAAA,OAAO,EAAEU,WAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAlBJ,CADF;AAuBD","sourcesContent":["import React, { useContext, useState, useEffect } from \"react\";\nimport { DraftboardContext } from \"../../../context/draftboardContext\";\nimport Player from \"../../player/player\";\nimport styles from \"./draftSelection.module.scss\";\nimport { base } from \"../../../utils/airtableUtils\";\nimport { isEmpty } from \"../../../utils/general\";\nimport { AuthContext } from \"../../../context/authContext\";\nimport { useRouter } from \"next/router\";\n\nexport default function DraftSelection() {\n  const Router = useRouter();\n  const { selectedPlayers } = useContext(DraftboardContext);\n  const {\n    user: { oAuthId },\n  } = useContext(AuthContext);\n  const [numberOfSelectedPlayers, setNumberOfSelectedPlayers] = useState(0);\n\n  useEffect(() => {\n    setNumberOfSelectedPlayers(\n      selectedPlayers.reduce((acc, curr) => {\n        if (!isEmpty(curr.selectedPlayer)) {\n          return acc + 1;\n        }\n        return acc;\n      }, 0)\n    );\n  }, [selectedPlayers]);\n\n  function formatGroupName(group) {\n    const groupNumber = group.split(\"-\")[1];\n    return `Group ${groupNumber}`;\n  }\n\n  function submitPicks() {\n    base(\"Draft Selections\").create(\n      [\n        {\n          fields: {\n            userId: oAuthId,\n            players: [\n              selectedPlayers[0].selectedPlayer.id,\n              selectedPlayers[1].selectedPlayer.id,\n              selectedPlayers[2].selectedPlayer.id,\n              selectedPlayers[3].selectedPlayer.id,\n              selectedPlayers[4].selectedPlayer.id,\n              selectedPlayers[5].selectedPlayer.id,\n            ],\n          },\n        },\n      ],\n      function (err) {\n        if (err) {\n          console.error(err);\n          return;\n        }\n        Router.push(\"/team\");\n      }\n    );\n  }\n  return (\n    <div className={styles.draftSelections}>\n      <h2>\n        Selections: <span>{numberOfSelectedPlayers}/6</span>\n      </h2>\n\n      <ul>\n        {selectedPlayers.map(({ group, selectedPlayer }) => {\n          return (\n            <li className={styles.selectedPlayer} key={group}>\n              <p className={styles.group}>{formatGroupName(group)}:</p>\n              <div className={styles.player}>\n                {!isEmpty(selectedPlayer) && <Player player={selectedPlayer} />}\n              </div>\n            </li>\n          );\n        })}\n      </ul>\n      {numberOfSelectedPlayers === 6 && (\n        <button onClick={submitPicks}>Submit</button>\n      )}\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}