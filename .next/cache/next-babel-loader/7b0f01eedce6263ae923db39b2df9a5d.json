{"ast":null,"code":"import { useState, useEffect } from \"react\";\nimport { auth, initializeApp } from \"firebase\";\nconst defaultUser = {\n  isLoggedIn: false,\n  displayName: \"\"\n};\nexport default function useAuth() {\n  const {\n    0: user,\n    1: setUser\n  } = useState(defaultUser);\n\n  function signIn() {\n    const provider = new auth.GoogleAuthProvider();\n    auth().signInWithPopup(provider).then(res => {\n      setUser({\n        isLoggedIn: true,\n        displayName: res.user.displayName,\n        oAuthId: res.user.uid\n      });\n    }).catch(err => {\n      console.error(err);\n      setUser({\n        isLoggedIn: false,\n        displayName: \"\"\n      });\n    });\n  }\n\n  function signOut() {\n    auth().signOut().then(function () {\n      console.log(\"sign out\");\n      setUser({\n        isLoggedIn: false,\n        displayName: \"\"\n      });\n    }).catch(function (error) {\n      console.error(error);\n    });\n  }\n\n  useEffect(() => {\n    signIn();\n  }, []);\n  return {\n    user,\n    signIn,\n    signOut\n  };\n}","map":{"version":3,"sources":["/Users/orrymevorach/Desktop/pga-next/hooks/useAuth.js"],"names":["useState","useEffect","auth","initializeApp","defaultUser","isLoggedIn","displayName","useAuth","user","setUser","signIn","provider","GoogleAuthProvider","signInWithPopup","then","res","oAuthId","uid","catch","err","console","error","signOut","log"],"mappings":"AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,SAASC,IAAT,EAAeC,aAAf,QAAoC,UAApC;AAEA,MAAMC,WAAW,GAAG;AAClBC,EAAAA,UAAU,EAAE,KADM;AAElBC,EAAAA,WAAW,EAAE;AAFK,CAApB;AAKA,eAAe,SAASC,OAAT,GAAmB;AAChC,QAAM;AAAA,OAACC,IAAD;AAAA,OAAOC;AAAP,MAAkBT,QAAQ,CAACI,WAAD,CAAhC;;AAEA,WAASM,MAAT,GAAkB;AAChB,UAAMC,QAAQ,GAAG,IAAIT,IAAI,CAACU,kBAAT,EAAjB;AACAV,IAAAA,IAAI,GACDW,eADH,CACmBF,QADnB,EAEGG,IAFH,CAEQC,GAAG,IAAI;AACXN,MAAAA,OAAO,CAAC;AACNJ,QAAAA,UAAU,EAAE,IADN;AAENC,QAAAA,WAAW,EAAES,GAAG,CAACP,IAAJ,CAASF,WAFhB;AAGNU,QAAAA,OAAO,EAAED,GAAG,CAACP,IAAJ,CAASS;AAHZ,OAAD,CAAP;AAKD,KARH,EASGC,KATH,CASSC,GAAG,IAAI;AACZC,MAAAA,OAAO,CAACC,KAAR,CAAcF,GAAd;AACAV,MAAAA,OAAO,CAAC;AACNJ,QAAAA,UAAU,EAAE,KADN;AAENC,QAAAA,WAAW,EAAE;AAFP,OAAD,CAAP;AAID,KAfH;AAgBD;;AAED,WAASgB,OAAT,GAAmB;AACjBpB,IAAAA,IAAI,GACDoB,OADH,GAEGR,IAFH,CAEQ,YAAY;AAChBM,MAAAA,OAAO,CAACG,GAAR,CAAY,UAAZ;AACAd,MAAAA,OAAO,CAAC;AACNJ,QAAAA,UAAU,EAAE,KADN;AAENC,QAAAA,WAAW,EAAE;AAFP,OAAD,CAAP;AAID,KARH,EASGY,KATH,CASS,UAAUG,KAAV,EAAiB;AACtBD,MAAAA,OAAO,CAACC,KAAR,CAAcA,KAAd;AACD,KAXH;AAYD;;AAEDpB,EAAAA,SAAS,CAAC,MAAM;AACdS,IAAAA,MAAM;AACP,GAFQ,EAEN,EAFM,CAAT;AAIA,SAAO;AACLF,IAAAA,IADK;AAELE,IAAAA,MAFK;AAGLY,IAAAA;AAHK,GAAP;AAKD","sourcesContent":["import { useState, useEffect } from \"react\";\nimport { auth, initializeApp } from \"firebase\";\n\nconst defaultUser = {\n  isLoggedIn: false,\n  displayName: \"\",\n};\n\nexport default function useAuth() {\n  const [user, setUser] = useState(defaultUser);\n\n  function signIn() {\n    const provider = new auth.GoogleAuthProvider();\n    auth()\n      .signInWithPopup(provider)\n      .then(res => {\n        setUser({\n          isLoggedIn: true,\n          displayName: res.user.displayName,\n          oAuthId: res.user.uid,\n        });\n      })\n      .catch(err => {\n        console.error(err);\n        setUser({\n          isLoggedIn: false,\n          displayName: \"\",\n        });\n      });\n  }\n\n  function signOut() {\n    auth()\n      .signOut()\n      .then(function () {\n        console.log(\"sign out\");\n        setUser({\n          isLoggedIn: false,\n          displayName: \"\",\n        });\n      })\n      .catch(function (error) {\n        console.error(error);\n      });\n  }\n\n  useEffect(() => {\n    signIn();\n  }, []);\n\n  return {\n    user,\n    signIn,\n    signOut,\n  };\n}\n"]},"metadata":{},"sourceType":"module"}