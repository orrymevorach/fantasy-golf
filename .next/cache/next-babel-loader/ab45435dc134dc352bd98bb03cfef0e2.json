{"ast":null,"code":"var _jsxFileName = \"/Users/orrymevorach/Desktop/pga-next/components/draftSelections/draftSelections.jsx\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useContext, useState, useEffect } from \"react\";\nimport { DraftboardContext } from \"../../context/draftboardContext\";\nimport Player from \"../player/player\";\nimport styles from \"./draftSelection.module.scss\";\nimport { base } from \"../../utils/airtableUtils\";\nimport { isEmpty } from \"../../utils/general\";\nimport { AuthContext } from \"../../context/authContext\";\nexport default function DraftSelection() {\n  _s();\n\n  var _this = this;\n\n  var _useContext = useContext(DraftboardContext),\n      selectedPlayers = _useContext.selectedPlayers;\n\n  var _useContext2 = useContext(AuthContext),\n      oAuthId = _useContext2.user.oAuthId;\n\n  var _useState = useState(0),\n      numberOfSelectedPlayers = _useState[0],\n      setNumberOfSelectedPlayers = _useState[1];\n\n  useEffect(function () {\n    setNumberOfSelectedPlayers(selectedPlayers.reduce(function (acc, curr) {\n      if (!isEmpty(curr.selectedPlayer)) {\n        return acc + 1;\n      }\n\n      return acc;\n    }, 0));\n  }, [selectedPlayers]);\n\n  function formatGroupName(group) {\n    var groupNumber = group.split(\"-\")[1];\n    return \"Group \".concat(groupNumber);\n  }\n\n  function submitPicks() {\n    base(\"Draft Selections\").create([{\n      fields: {\n        userId: oAuthId,\n        players: [selectedPlayers[0].selectedPlayer.id, selectedPlayers[1].selectedPlayer.id, selectedPlayers[2].selectedPlayer.id, selectedPlayers[3].selectedPlayer.id, selectedPlayers[4].selectedPlayer.id, selectedPlayers[5].selectedPlayer.id]\n      }\n    }]);\n  }\n\n  return __jsx(\"div\", {\n    className: styles.draftSelections,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 5\n    }\n  }, __jsx(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }\n  }, \"Selections\"), __jsx(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }\n  }, selectedPlayers.map(function (_ref) {\n    var group = _ref.group,\n        selectedPlayer = _ref.selectedPlayer;\n    return __jsx(\"li\", {\n      className: styles.selectedPlayer,\n      key: group,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 13\n      }\n    }, __jsx(\"p\", {\n      className: styles.group,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 15\n      }\n    }, formatGroupName(group), \":\"), __jsx(\"div\", {\n      className: styles.player,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 15\n      }\n    }, !isEmpty(selectedPlayer) && __jsx(Player, {\n      player: selectedPlayer,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 46\n      }\n    })));\n  })), numberOfSelectedPlayers === 6 && __jsx(\"button\", {\n    onClick: submitPicks,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }, \"Submit\"));\n}\n\n_s(DraftSelection, \"sXWlPEEbuqX/odMZhYafMVYB0p4=\");\n\n_c = DraftSelection;\n\nvar _c;\n\n$RefreshReg$(_c, \"DraftSelection\");","map":{"version":3,"sources":["/Users/orrymevorach/Desktop/pga-next/components/draftSelections/draftSelections.jsx"],"names":["React","useContext","useState","useEffect","DraftboardContext","Player","styles","base","isEmpty","AuthContext","DraftSelection","selectedPlayers","oAuthId","user","numberOfSelectedPlayers","setNumberOfSelectedPlayers","reduce","acc","curr","selectedPlayer","formatGroupName","group","groupNumber","split","submitPicks","create","fields","userId","players","id","draftSelections","map","player"],"mappings":"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","sourcesContent":["import React, { useContext, useState, useEffect } from \"react\";\nimport { DraftboardContext } from \"../../context/draftboardContext\";\nimport Player from \"../player/player\";\nimport styles from \"./draftSelection.module.scss\";\nimport { base } from \"../../utils/airtableUtils\";\nimport { isEmpty } from \"../../utils/general\";\nimport { AuthContext } from \"../../context/authContext\";\n\nexport default function DraftSelection() {\n  const { selectedPlayers } = useContext(DraftboardContext);\n  const {\n    user: { oAuthId },\n  } = useContext(AuthContext);\n  const [numberOfSelectedPlayers, setNumberOfSelectedPlayers] = useState(0);\n\n  useEffect(() => {\n    setNumberOfSelectedPlayers(\n      selectedPlayers.reduce((acc, curr) => {\n        if (!isEmpty(curr.selectedPlayer)) {\n          return acc + 1;\n        }\n        return acc;\n      }, 0)\n    );\n  }, [selectedPlayers]);\n\n  function formatGroupName(group) {\n    const groupNumber = group.split(\"-\")[1];\n    return `Group ${groupNumber}`;\n  }\n\n  function submitPicks() {\n    base(\"Draft Selections\").create([\n      {\n        fields: {\n          userId: oAuthId,\n          players: [\n            selectedPlayers[0].selectedPlayer.id,\n            selectedPlayers[1].selectedPlayer.id,\n            selectedPlayers[2].selectedPlayer.id,\n            selectedPlayers[3].selectedPlayer.id,\n            selectedPlayers[4].selectedPlayer.id,\n            selectedPlayers[5].selectedPlayer.id,\n          ],\n        },\n      },\n    ]);\n  }\n  return (\n    <div className={styles.draftSelections}>\n      <h2>Selections</h2>\n\n      <ul>\n        {selectedPlayers.map(({ group, selectedPlayer }) => {\n          return (\n            <li className={styles.selectedPlayer} key={group}>\n              <p className={styles.group}>{formatGroupName(group)}:</p>\n              <div className={styles.player}>\n                {!isEmpty(selectedPlayer) && <Player player={selectedPlayer} />}\n              </div>\n            </li>\n          );\n        })}\n      </ul>\n      {numberOfSelectedPlayers === 6 && (\n        <button onClick={submitPicks}>Submit</button>\n      )}\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}