{"ast":null,"code":"var _jsxFileName = \"/Users/orrymevorach/Desktop/pga-next/components/draftBoard/draftSelections/draftSelections.jsx\";\nvar __jsx = React.createElement;\nimport React, { useContext, useState, useEffect } from \"react\";\nimport { DraftboardContext } from \"../../../context/draftboardContext\";\nimport Player from \"../../shared/player/player\";\nimport styles from \"./draftSelection.module.scss\";\nimport { base } from \"../../../utils/airtableUtils\";\nimport { isEmpty } from \"../../../utils/general\";\nimport { AuthContext } from \"../../../context/authContext\";\nimport { useRouter } from \"next/router\";\nexport default function DraftSelection() {\n  const Router = useRouter();\n  const {\n    selectedPlayers\n  } = useContext(DraftboardContext);\n  const {\n    user: {\n      oAuthId,\n      displayName\n    }\n  } = useContext(AuthContext);\n  const {\n    0: numberOfSelectedPlayers,\n    1: setNumberOfSelectedPlayers\n  } = useState(0);\n  useEffect(() => {\n    setNumberOfSelectedPlayers(selectedPlayers.reduce((acc, curr) => {\n      if (!isEmpty(curr.selectedPlayer)) {\n        return acc + 1;\n      }\n\n      return acc;\n    }, 0));\n  }, [selectedPlayers]);\n\n  function formatGroupName(group) {\n    const groupNumber = group.split(\"-\")[1];\n    return `Group ${groupNumber}`;\n  }\n\n  function submitPicks() {\n    base(\"Draft Selections\").create([{\n      fields: {\n        userId: oAuthId,\n        userName: displayName,\n        players: [selectedPlayers[0].selectedPlayer.id, selectedPlayers[1].selectedPlayer.id, selectedPlayers[2].selectedPlayer.id, selectedPlayers[3].selectedPlayer.id, selectedPlayers[4].selectedPlayer.id, selectedPlayers[5].selectedPlayer.id]\n      }\n    }], function (err) {\n      if (err) {\n        console.error(err);\n        return;\n      }\n\n      Router.push({\n        pathname: \"/team\",\n        query: {\n          userId: oAuthId\n        }\n      });\n    });\n  }\n\n  return __jsx(\"div\", {\n    className: styles.draftSelections,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 5\n    }\n  }, __jsx(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  }, \"Selections: \", __jsx(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 21\n    }\n  }, numberOfSelectedPlayers, \"/6\")), __jsx(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }\n  }, selectedPlayers.map(({\n    group,\n    selectedPlayer\n  }) => {\n    return __jsx(\"li\", {\n      className: styles.selectedPlayer,\n      key: group,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 13\n      }\n    }, __jsx(\"p\", {\n      className: styles.group,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 15\n      }\n    }, formatGroupName(group), \":\"), __jsx(\"div\", {\n      className: styles.player,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 15\n      }\n    }, !isEmpty(selectedPlayer) && __jsx(Player, {\n      player: selectedPlayer,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 46\n      }\n    })));\n  })), numberOfSelectedPlayers === 6 && __jsx(\"button\", {\n    onClick: submitPicks,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }\n  }, \"Submit\"));\n}","map":{"version":3,"sources":["/Users/orrymevorach/Desktop/pga-next/components/draftBoard/draftSelections/draftSelections.jsx"],"names":["React","useContext","useState","useEffect","DraftboardContext","Player","styles","base","isEmpty","AuthContext","useRouter","DraftSelection","Router","selectedPlayers","user","oAuthId","displayName","numberOfSelectedPlayers","setNumberOfSelectedPlayers","reduce","acc","curr","selectedPlayer","formatGroupName","group","groupNumber","split","submitPicks","create","fields","userId","userName","players","id","err","console","error","push","pathname","query","draftSelections","map","player"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,QAA5B,EAAsCC,SAAtC,QAAuD,OAAvD;AACA,SAASC,iBAAT,QAAkC,oCAAlC;AACA,OAAOC,MAAP,MAAmB,4BAAnB;AACA,OAAOC,MAAP,MAAmB,8BAAnB;AACA,SAASC,IAAT,QAAqB,8BAArB;AACA,SAASC,OAAT,QAAwB,wBAAxB;AACA,SAASC,WAAT,QAA4B,8BAA5B;AACA,SAASC,SAAT,QAA0B,aAA1B;AAEA,eAAe,SAASC,cAAT,GAA0B;AACvC,QAAMC,MAAM,GAAGF,SAAS,EAAxB;AACA,QAAM;AAAEG,IAAAA;AAAF,MAAsBZ,UAAU,CAACG,iBAAD,CAAtC;AACA,QAAM;AACJU,IAAAA,IAAI,EAAE;AAAEC,MAAAA,OAAF;AAAWC,MAAAA;AAAX;AADF,MAEFf,UAAU,CAACQ,WAAD,CAFd;AAGA,QAAM;AAAA,OAACQ,uBAAD;AAAA,OAA0BC;AAA1B,MAAwDhB,QAAQ,CAAC,CAAD,CAAtE;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACde,IAAAA,0BAA0B,CACxBL,eAAe,CAACM,MAAhB,CAAuB,CAACC,GAAD,EAAMC,IAAN,KAAe;AACpC,UAAI,CAACb,OAAO,CAACa,IAAI,CAACC,cAAN,CAAZ,EAAmC;AACjC,eAAOF,GAAG,GAAG,CAAb;AACD;;AACD,aAAOA,GAAP;AACD,KALD,EAKG,CALH,CADwB,CAA1B;AAQD,GATQ,EASN,CAACP,eAAD,CATM,CAAT;;AAWA,WAASU,eAAT,CAAyBC,KAAzB,EAAgC;AAC9B,UAAMC,WAAW,GAAGD,KAAK,CAACE,KAAN,CAAY,GAAZ,EAAiB,CAAjB,CAApB;AACA,WAAQ,SAAQD,WAAY,EAA5B;AACD;;AAED,WAASE,WAAT,GAAuB;AACrBpB,IAAAA,IAAI,CAAC,kBAAD,CAAJ,CAAyBqB,MAAzB,CACE,CACE;AACEC,MAAAA,MAAM,EAAE;AACNC,QAAAA,MAAM,EAAEf,OADF;AAENgB,QAAAA,QAAQ,EAAEf,WAFJ;AAGNgB,QAAAA,OAAO,EAAE,CACPnB,eAAe,CAAC,CAAD,CAAf,CAAmBS,cAAnB,CAAkCW,EAD3B,EAEPpB,eAAe,CAAC,CAAD,CAAf,CAAmBS,cAAnB,CAAkCW,EAF3B,EAGPpB,eAAe,CAAC,CAAD,CAAf,CAAmBS,cAAnB,CAAkCW,EAH3B,EAIPpB,eAAe,CAAC,CAAD,CAAf,CAAmBS,cAAnB,CAAkCW,EAJ3B,EAKPpB,eAAe,CAAC,CAAD,CAAf,CAAmBS,cAAnB,CAAkCW,EAL3B,EAMPpB,eAAe,CAAC,CAAD,CAAf,CAAmBS,cAAnB,CAAkCW,EAN3B;AAHH;AADV,KADF,CADF,EAiBE,UAAUC,GAAV,EAAe;AACb,UAAIA,GAAJ,EAAS;AACPC,QAAAA,OAAO,CAACC,KAAR,CAAcF,GAAd;AACA;AACD;;AACDtB,MAAAA,MAAM,CAACyB,IAAP,CAAY;AACVC,QAAAA,QAAQ,EAAE,OADA;AAEVC,QAAAA,KAAK,EAAE;AAAET,UAAAA,MAAM,EAAEf;AAAV;AAFG,OAAZ;AAID,KA1BH;AA4BD;;AACD,SACE;AAAK,IAAA,SAAS,EAAET,MAAM,CAACkC,eAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAOvB,uBAAP,OADd,CADF,EAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGJ,eAAe,CAAC4B,GAAhB,CAAoB,CAAC;AAAEjB,IAAAA,KAAF;AAASF,IAAAA;AAAT,GAAD,KAA+B;AAClD,WACE;AAAI,MAAA,SAAS,EAAEhB,MAAM,CAACgB,cAAtB;AAAsC,MAAA,GAAG,EAAEE,KAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAG,MAAA,SAAS,EAAElB,MAAM,CAACkB,KAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA6BD,eAAe,CAACC,KAAD,CAA5C,MADF,EAEE;AAAK,MAAA,SAAS,EAAElB,MAAM,CAACoC,MAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,CAAClC,OAAO,CAACc,cAAD,CAAR,IAA4B,MAAC,MAAD;AAAQ,MAAA,MAAM,EAAEA,cAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAD/B,CAFF,CADF;AAQD,GATA,CADH,CALF,EAiBGL,uBAAuB,KAAK,CAA5B,IACC;AAAQ,IAAA,OAAO,EAAEU,WAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAlBJ,CADF;AAuBD","sourcesContent":["import React, { useContext, useState, useEffect } from \"react\";\nimport { DraftboardContext } from \"../../../context/draftboardContext\";\nimport Player from \"../../shared/player/player\";\nimport styles from \"./draftSelection.module.scss\";\nimport { base } from \"../../../utils/airtableUtils\";\nimport { isEmpty } from \"../../../utils/general\";\nimport { AuthContext } from \"../../../context/authContext\";\nimport { useRouter } from \"next/router\";\n\nexport default function DraftSelection() {\n  const Router = useRouter();\n  const { selectedPlayers } = useContext(DraftboardContext);\n  const {\n    user: { oAuthId, displayName },\n  } = useContext(AuthContext);\n  const [numberOfSelectedPlayers, setNumberOfSelectedPlayers] = useState(0);\n\n  useEffect(() => {\n    setNumberOfSelectedPlayers(\n      selectedPlayers.reduce((acc, curr) => {\n        if (!isEmpty(curr.selectedPlayer)) {\n          return acc + 1;\n        }\n        return acc;\n      }, 0)\n    );\n  }, [selectedPlayers]);\n\n  function formatGroupName(group) {\n    const groupNumber = group.split(\"-\")[1];\n    return `Group ${groupNumber}`;\n  }\n\n  function submitPicks() {\n    base(\"Draft Selections\").create(\n      [\n        {\n          fields: {\n            userId: oAuthId,\n            userName: displayName,\n            players: [\n              selectedPlayers[0].selectedPlayer.id,\n              selectedPlayers[1].selectedPlayer.id,\n              selectedPlayers[2].selectedPlayer.id,\n              selectedPlayers[3].selectedPlayer.id,\n              selectedPlayers[4].selectedPlayer.id,\n              selectedPlayers[5].selectedPlayer.id,\n            ],\n          },\n        },\n      ],\n      function (err) {\n        if (err) {\n          console.error(err);\n          return;\n        }\n        Router.push({\n          pathname: \"/team\",\n          query: { userId: oAuthId },\n        });\n      }\n    );\n  }\n  return (\n    <div className={styles.draftSelections}>\n      <h2>\n        Selections: <span>{numberOfSelectedPlayers}/6</span>\n      </h2>\n\n      <ul>\n        {selectedPlayers.map(({ group, selectedPlayer }) => {\n          return (\n            <li className={styles.selectedPlayer} key={group}>\n              <p className={styles.group}>{formatGroupName(group)}:</p>\n              <div className={styles.player}>\n                {!isEmpty(selectedPlayer) && <Player player={selectedPlayer} />}\n              </div>\n            </li>\n          );\n        })}\n      </ul>\n      {numberOfSelectedPlayers === 6 && (\n        <button onClick={submitPicks}>Submit</button>\n      )}\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}